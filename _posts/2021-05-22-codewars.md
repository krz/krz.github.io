---
layout: post
title: Codewars snippets where I learned something
categories: [python]
---

From time to time I practice my python skills in (codewars)[https://www.codewars.com]. What I like about it is the clever solutions some people come up with.
Let's look at some examples where I learned some useful tricks.

### Is Integer Array? (6 kyu)

This sounds like an easy one. Here is the task:

*Write a function with the signature shown below:*

```python
def is_int_array(arr):
    return True
```

    returns `true`  / `True` if every element in an array is an integer or a float with no decimals.
    returns `true`  / `True` if array is empty.
    returns `false` / `False` for every other input.
    
    
I assumed this was an easy one-liner, something like

```python
def is_int_array(arr):
    return all([i.is_integer() if i not isinstance(i, int)])
```

or something like this. However, I did not consider all the edge cases:

```python
test.assert_equals(is_int_array([]), True, "Input: []")
test.assert_equals(is_int_array([1, 2, 3, 4]), True, "Input: [1, 2, 3, 4]")
test.assert_equals(is_int_array([-11, -12, -13, -14]), True, "Input: [-11, -12, -13, -14]")
test.assert_equals(is_int_array([1.0, 2.0, 3.0]), True, "Input: [1.0, 2.0, 3.0]")
test.assert_equals(is_int_array([1, 2, None]), False, "Input: [1,2, None]")
test.assert_equals(is_int_array(None), False, "Input: None")
test.assert_equals(is_int_array(""), False, "Input: ''")
test.assert_equals(is_int_array([None]), False, "Input: [None]")
test.assert_equals(is_int_array([1.0, 2.0, 3.0001]), False, "Input: [1.0, 2.0, 3.0001]")
test.assert_equals(is_int_array(["-1"]), False, "Input: ['-1']")
```

My actual solution was this:

```python
def check_array(arr):
    # check if array is empty array
    if arr == []:
        return True
    # check if array is None or empty string
    if not arr:
        return False
    # loop through each element in array
    for element in arr:
    # check if element is an integer or a float with no decimals
        if not (isinstance(element, int) or (isinstance(element, float) and element.is_integer())):
        # return False if not
            return False
    # return True if all elements pass the check
    return True
```

This solution works, but it's not pretty.

Let's look at other peoples' solutions.
I like this one because it's short:

```python
def is_int_array(arr):
    try:
        return list(map(int, arr)) == arr
    except:
        return False
```
However, many developers hate `try`/`except` blocks. In addition, this solution creates a new list by mapping each element to an integer.
This may not be very efficient.

The most upvoted solution is this one:

```python
def is_int_array(a):
    return isinstance(a, list) and all(isinstance(x, (int, float)) and x == int(x) for x in a)
```

It's clever because it immediately returns `False` if `arr` is not a list, saving computation.
It also early stops if it finds a `False` value in the loop. And, it's a one-liner!

